<!doctype html>
<html lang="en"><head><meta charset="utf-8"><title>Admin Dashboard</title>
<link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
<style>body{font-family:Inter,Arial,sans-serif;background:#f7f8fb}.wrap{max-width:1100px;margin:20px auto;padding:18px}.card{background:#fff;padding:16px;border-radius:8px;margin-bottom:14px;box-shadow:0 6px 20px rgba(12,15,30,0.04)}table{width:100%;border-collapse:collapse}th,td{padding:10px;border-bottom:1px solid #eee;text-align:left}button{padding:8px 10px;border-radius:6px;border:0;background:#0b74da;color:#fff;cursor:pointer}form.inline{display:inline;margin:0}</style></head>
<body><div class="wrap"><h1>Admin Dashboard</h1><p><a href="{{ url_for('admin_logout') }}">Logout</a></p>
<div class="card"><h3>Pending Reviews</h3>{% if pending_reviews %}{% for r in pending_reviews %}<div style="padding:10px;border-bottom:1px solid #f1f1f1"><strong>{{ r.get('name') }}</strong> · <small>{{ r.get('created_at') }}</small><p>{{ r.get('comment') }}</p><form method="POST" action="{{ url_for('admin_approve_review', rid=r.get('_id')) }}" class="inline"><button type="submit">Approve</button></form> <form method="POST" action="{{ url_for('admin_delete_review', rid=r.get('_id')) }}" class="inline"><button type="submit" style="background:#d9534f">Delete</button></form></div>{% endfor %}{% else %}<p>No pending reviews.</p>{% endif %}</div>
<div class="card"><h3>Bookings</h3><table><thead><tr><th>Name</th><th>Room</th><th>Dates</th><th>Price</th><th>Approved</th><th>Action</th></tr></thead><tbody>{% if bookings %}{% for b in bookings %}<tr><td>{{ b.get('name') }}</td><td>{{ b.get('room') }}</td><td>{{ b.get('checkin') }} → {{ b.get('checkout') }}</td><td>₦{{ b.get('price') }}</td><td>{{ 'Yes' if b.get('approved') else 'No' }}</td><td><form method="POST" action="{{ url_for('admin_approve_booking', bid=b.get('_id')) }}" class="inline"><button type="submit">Mark Paid</button></form></td></tr>{% endfor %}{% else %}<tr><td colspan="6">No bookings yet.</td></tr>{% endif %}</tbody></table></div>
<div class="card"><h3>Room Prices</h3><form method="POST" action="{{ url_for('admin_update_prices') }}"><label>Diamond (₦)</label><input name="diamond" value="{{ room_prices.get('Diamond',20000) }}" style="width:160px;padding:8px;border:1px solid #ddd;border-radius:6px"><label>Gold (₦)</label><input name="gold" value="{{ room_prices.get('Gold',40000) }}" style="width:160px;padding:8px;border:1px solid #ddd;border-radius:6px"><button type="submit" style="margin-left:8px">Update</button></form></div>
</div></body></html>